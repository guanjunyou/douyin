## 极简抖音后端项目优化想法

### 总体架构

1. 添加布隆过滤或者其它策略防止缓存穿透，使用随机 TTL 防止缓存雪崩  ，高并发下保证数据库与缓存一致性
2. 加入消息队列解耦合，削峰填谷
3. 整合 pprof 进行性能瓶颈测试
4. 优化为微服务框架，整合 RPC 

### Feed 流接口

1. 打算采用 推模式和拉模式相结合的方式。每个人在 redis 中拥有一个"信箱"，可以考虑使用 redis  Sorted Set , 使用 create_data 的时间戳作为 score ， 每次按照时间戳范围进行消费。消费完的就删除。如果这个人不是大V则每次发视频时都推送到关注他的人的信箱，如果是大V则不推送（对方是大V则每次要主动拉取过来） 。如果超过每个人的“信箱”上限则删掉一个时间戳最晚的，插入。每个用户消费完信箱内的视频后，系统将会从数据库中把非关注的视频信息取出返回

2. HBase

### 发布列表，用户信息

1. 可存放于 redis 中
2. 发布接口添加过滤器，过滤敏感词



### 评论



### 社交接口

1. 如何使用缓存优化？聊天记录要保证实时性